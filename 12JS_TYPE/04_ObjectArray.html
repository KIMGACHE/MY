<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 자바 : 자바스크립트 -->
    <!-- 배열 - 동일한 자료형의 데이터를 저장할 때 사용한다. -->
    <!-- 자바와 자바스크립트는 배열에 자료형의 종류가 다양해도 저장할 수 있게끔 되었다. -->
    <script>
        const arr = [1,2,3];
        console.log(arr[0]);
        console.log(arr[1]);
        console.log(arr[2]);

        arr[0] = 100;
        console.log(arr[0]);

        //---------------
        // 배열 요소에는 여러 Datatype이 허용된다.
        // 배열의 요소에 접근하려면 index를 이용한다.
        //---------------

        const arr2 = ['str1', 'str2', null, true, 30, {name:"홍길동", age:55},false,undefined, {name: '남길동', age:46}];
        console.log('개수 : ', arr2.length);
        console.log(typeof arr2[0]);
        console.log(typeof arr2[1]);
        console.log(typeof arr2[2]);
        console.log(typeof arr2[3]);
        console.log(typeof arr2[4]);
        console.log(typeof arr2[5]);
        console.log(typeof arr2[6]);
        console.log(typeof arr2[7]);
        console.log(typeof arr2[8]);

        //----------------------
        //JS 배열은 동적 확장가능
        //----------------------

        let arr = [1,2,3];
        console.log(arr);
        console.log('길이', arr.length);

        arr[5] = 100; // 자바에서는 불가능하나 JS는 가능, 그 사이의 index에 모든 값이 생긴다.
        console.log(arr);

        arr[10] = 200;
        console.log(arr);
        console.log(typeof arr[9]); // 그 사이의 index의 타입을 보면 undefined이다.


        //----------------------
        //배열 관련 기능 PUSH/POP
        //----------------------

        let arrf = [1,2,3];
        console.log(arrf);
        arrf.push(10);
        arrf.push(20);
        arrf.push(30);
        console.log(arrf);
        // push는 배열의 마지막에 요소를 추가
        arrf.pop();
        arrf.pop();
        console.log(arrf);
        // pop은 배열의 마지막 요소를 제거
        

        //----------------------
        //배열 안 내용 순회반복
        //----------------------
        
        // old한 버전
        let arr8=[1,2,3,4,5];
        // 초기값;조건식;탈출연산식
        for(i=0;i<arr8.length;i++)
        {
            console.log(arr8[i]);
        }

        for( i in arr8) {
            console.log(arr8[i]);
        }

        // 여기서 item은 인덱스가 아니라 요소 하나하나의 값을 가져오는 것이다.
        arr8.forEach((item)=>{console.log(item)});

        //----------------------
        //배열정렬 함수 sort
        //----------------------

        let arr3 = [ 10,5,11,24,5,44,"1","7", 22];
        console.log(arr3);
        arr3.sort();
        // 기본 오름차순 정렬이다.
        console.log(arr3);

        arr3.sort((a,b)=>{return b-a;});
        console.log(arr3);
        // 내림차순? 정렬도 가능하다. (a-b)는 오름차순이다.

        //----------------------
        // 배열관련 함수 filter ( 굉장히 중요 )
        //----------------------
        //배열.filter( (배열요소)=>{어떤 요소를 걸러낼건지에 대한 조건식} )

        let arr4 = [10,15.2, 't1', 't2', 30, true, null, 100, {name:'홍길동', age:55}, 20];
        let onlyNum = arr4.filter( (item)=>{return typeof item === "number"} );
        // 중괄호를 넣을거면 filter에서는 조건식 전에 return을 적어주고 
        // 넣지않을거면 조건식 그대로 넣어주면 된다.
        console.log(onlyNum);

        let sortedNum = arr4.filter( (item)=>{return typeof item==="number"} ).sort();
        console.log(sortedNum);
        let sortedNum2 = arr4.filter( (item)=>{return typeof item==="number"} ).sort((a,b)=>{return b-a;});
        console.log(sortedNum2);
        // filter를 한 배열에 정렬을 할 수 있다.

        
        //----------------------
        // 배열관련 함수 reduce
        //----------------------
        // 누적연산

        let sumVal = sortedNum.reduce((sum,item)=>{return sum=sum+item}, 0);
        console.log("sumVal", sumVal);
        // 기본형태는  (sum, item) => {}, 0
        // sum은 누적시킬 때 사용할 변수, item은 배열 요소, 0은 sum의 초기값을 의미

        
        //----------------------
        // 배열 OBJECT FOREACH - [{}, {}, {}].forEach()
        //----------------------

        let arrObj = [
            {name:'세탁기',price: 500000},
            10,
            {serialNo:'1111-2222', category:'모니터',productName:'삼성스마트모니터'},
            20,
            {name:'홍길동', age: 55, addr: '대구'},
            30,
        ];

        arrObj.forEach((item)=>{
            if(typeof item ==='object'){
                console.log(item);
                // item.forEach((i)=>{console.log(i)})
                for(key in item) {
                    console.log('key: ', key, ', value: ', item[key]);
                }
            }
        });
        // object에는 forEach가 먹히지 않는다.


        //----------------------
        // map + 일반배열 / map : 기존 배열을 내가 원하는 형태로 바꿀때 사용한다. 기존배열을 바꾸지는 않는다.
        //----------------------
        let arr5 = [10,20,30,40];
        let returnedArr = arr5.map((item)=>{return item+'%'});
        console.log(returnedArr);

        //----------------------
        // map + 배열OBJECT
        //----------------------
        let orderList=[
            {oid:111, name:'홍길동',addr:'대구',tel: '010-111-2222', product:'모니터', 'pid':'111-222'},
            {oid:222, name:'남길동',addr:'울산',tel: '010-222-5555', product:'키보드', 'pid':'333-444'},
            {oid:333, name:'서길동',addr:'창원',tel: '010-333-3333', product:'SSD', 'pid':'555-666'},
            {oid:444, name:'동길동',addr:'김해',tel: '010-444-4444', product:'메인보드', 'pid':'777-442'},
        ]
        console.log(orderList);
        // oid와 tel만 있는 배열을 만들고 싶다.
        let returnedMap = orderList.map((item)=>{
            return {oid:item.oid, tel:item.tel};
        });
        console.log(returnedMap);

        //----------------------
        // 유사배열 객체
        //----------------------

        let arr7 = ["a","b","c"];
        let obj = {
            0:"a",
            1:"b",
            2:"c",
            length:3
        }
        console.log("arr",arr7);
        console.log("obj",obj);
        console.log(arr7[0]);
        console.log(obj[0]);
        console.log(arr7.length);
        console.log(obj.length);

        // 배열함수를 사용할 수 없게된다.
        // obj.forEach((item)=>{}) x

        Array.from(obj).forEach((item)=>{console.log(item)});
        // 이와같은 코드를 사용하면 배열로 만들수 있다.

    </script>

</body>
</html>